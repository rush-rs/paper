\input{preamble/misc}
\input{preamble/tabularx}
\input{|lirstings include-tex}
\captionsetup{indention=-1cm}
\input{preamble/tikz}
\input{preamble/drawstack}
% \input{preamble/pgfplots.tex}
\input{preamble/siunitx.tex}

% Set `deps/rush` as path prefix in all lirstings, is ignored for files under other directories
\NewCommandCopy{\oldLirsting}{\Lirsting}
\renewcommand{\Lirsting}[2][]{\oldLirsting[path prefix={deps/rush},#1]{#2}}

\pagenumbering{roman}

\begin{document}
\include{content/titlepage}
\include{content/abstract}
\tableofcontents

\cleardoublepage\pagenumbering{arabic}

\chapter{Introduction}\label{chap:introduction}
\input{content/chapter_0/introduction}
\input{content/chapter_0/stages_of_compilation}
\input{content/chapter_0/rush}

\chapter{Analyzing the Source}\label{chap:analyzing_source}
\input{content/chapter_1/syntactical_analysis}
\input{content/chapter_1/semantic_analysis}

\chapter{Interpreting the Program}\label{chap:interpreting}
\input{content/chapter_2/introduction}
\input{content/chapter_2/tree}
\input{content/chapter_2/vm}

\chapter{Compiling to High-Level Targets}\label{chap:high_level_targets}
\input{content/chapter_3/introduction}
\input{content/chapter_3/vm_compiler}
\input{content/chapter_3/wasm}
\input{content/chapter_3/llvm}
\input{content/chapter_3/transpiler}

\chapter{Compiling to Low-Level Targets}\label{chap:low_level_targets}
\input{content/chapter_4/introduction}
\input{content/chapter_4/riscv}
\input{content/chapter_4/x64}
\input{content/chapter_4/conclusion}

\chapter{Final Thoughts and Conclusions}\label{chap:final_thoughts}
\input{content/chapter_5/conclusions}
\input{content/acknowledgements}

\listoffigures
\listoftables
\listof{listing}{List of Listings}
% \nocite{*}
\printbibliography[heading=bibintoc]

\include{content/appendices}
\end{document}
